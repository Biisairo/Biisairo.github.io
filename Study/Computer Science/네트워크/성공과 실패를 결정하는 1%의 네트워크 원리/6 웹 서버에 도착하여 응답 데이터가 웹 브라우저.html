<!DOCTYPE html>



<html>

<head>
    <meta charset="UTF-8">
    <title>6 웹 서버에 도착하여 응답 데이터가 웹 브라우저</title>
    <link rel="icon" href="https://biisairo.github.io/static/favicon.ico" type="image/x-icon">
</head>

<script>
    function toggleSection(id) {
        const section = document.getElementById(id);
        const header = section.previousElementSibling;

        if (section.style.display === 'none') {
            section.style.display = 'block';
            header.innerHTML = header.innerHTML.replace('▶', '▼');
        } else {
            section.style.display = 'none';
            header.innerHTML = header.innerHTML.replace('▼', '▶');
        }
    }
</script>

<body>
    <header>
    <nav>
        <ul>
            

            <li><a href="https://biisairo.github.io/">Home</a></li>
            
            <li><a href="https://biisairo.github.io/About/">About</a></li>
            
            <li><a href="https://biisairo.github.io/Study/">Study</a></li>
            
            <li><a href="https://biisairo.github.io/Contact/">Contact</a></li>
            
        </ul>
    </nav>

    <style>
    html,
    body {
        height: 100%;
        margin: 0;
    }

    body {
        display: flex;
        flex-direction: column;
        max-width: 720px;
        margin: 0 auto;
        padding: 2rem 1rem;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen,
            Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
        line-height: 1.6;
        background: #222831;
        color: #EEEEEE;
    }

    header,
    footer {
        text-align: center;
        margin-bottom: 2rem;
    }

    nav ul {
        list-style: none;
        padding: 0;
        display: flex;
        justify-content: space-between;
        align-items: flex-end;

        flex-wrap: wrap;
        gap: 1rem;
    }

    nav li:first-child {
        margin-right: auto;
    }

    nav li:not(:first-child) {
        margin-left: 0;
    }

    nav li:first-child a {
        color: #EEEEEE;
        font-size: 1.5em;
        text-decoration: none;
    }

    nav li:first-child a:hover {
        color: #aadadf;
    }

    nav a {
        color: #00ADB5;
        text-decoration: underline;
        transition: color 0.3s ease;
    }

    nav a:hover {
        color: #66C1C9;
        text-decoration: none;
    }

    main a,
    article a,
    footer a {
        color: #33d3c8;
        text-decoration: underline;
        transition: color 0.3s ease;
    }

    main a:hover,
    article a:hover,
    footer a:hover {
        color: #66C1C9;
        text-decoration: none;
    }

    main {
        flex: 1;
        margin-bottom: 2rem;
    }

    h1,
    h2,
    h3 {
        line-height: 1.3;
        margin-top: 2rem;
        margin-bottom: 1rem;
        color: #00ADB5;
    }

    h2[onclick] {
        user-select: none;
        color: #2699b6;
    }


    ul {
        padding-left: 1.5rem;
    }

    article {
        margin-top: 2rem;
        border: 1px solid #33d3c8;
        padding: 1rem;
        border-radius: 5px;
    }

    footer p {
        font-size: 0.9rem;
        color: #AAAAAA;
    }
</style>

</header>

    <main>
        
        
        

        
        <h2 onclick="toggleSection('pages')" style="cursor: pointer;">▶ 하위 페이지</h2>
        <div id="pages" style="display: none;">
            <ul>
                
                <li><a href="https://biisairo.github.io/Study/Computer%20Science/%eb%84%a4%ed%8a%b8%ec%9b%8c%ed%81%ac/%ec%84%b1%ea%b3%b5%ea%b3%bc%20%ec%8b%a4%ed%8c%a8%eb%a5%bc%20%ea%b2%b0%ec%a0%95%ed%95%98%eb%8a%94%201%25%ec%9d%98%20%eb%84%a4%ed%8a%b8%ec%9b%8c%ed%81%ac%20%ec%9b%90%eb%a6%ac/1%20%ec%9b%b9%20%eb%b8%8c%eb%9d%bc%ec%9a%b0%ec%a0%80%ea%b0%80%20%eb%a9%94%ec%8b%9c%ec%a7%80%eb%a5%bc%20%eb%a7%8c%eb%93%a0%eb%8b%a4.html">1 웹 브라우저가 메시지를 만든다</a></li>
                
                <li><a href="https://biisairo.github.io/Study/Computer%20Science/%eb%84%a4%ed%8a%b8%ec%9b%8c%ed%81%ac/%ec%84%b1%ea%b3%b5%ea%b3%bc%20%ec%8b%a4%ed%8c%a8%eb%a5%bc%20%ea%b2%b0%ec%a0%95%ed%95%98%eb%8a%94%201%25%ec%9d%98%20%eb%84%a4%ed%8a%b8%ec%9b%8c%ed%81%ac%20%ec%9b%90%eb%a6%ac/2%20TCP%20IP%20%ec%9d%98%20%eb%8d%b0%ec%9d%b4%ed%84%b0%eb%a5%bc%20%ec%a0%84%ea%b8%b0%20%ec%8b%a0%ed%98%b8%eb%a1%9c%20%eb%a7%8c%eb%93%a4%ec%96%b4%20%eb%b3%b4%eb%82%b8.html">2 TCP IP 의 데이터를 전기 신호로 만들어 보낸</a></li>
                
                <li><a href="https://biisairo.github.io/Study/Computer%20Science/%eb%84%a4%ed%8a%b8%ec%9b%8c%ed%81%ac/%ec%84%b1%ea%b3%b5%ea%b3%bc%20%ec%8b%a4%ed%8c%a8%eb%a5%bc%20%ea%b2%b0%ec%a0%95%ed%95%98%eb%8a%94%201%25%ec%9d%98%20%eb%84%a4%ed%8a%b8%ec%9b%8c%ed%81%ac%20%ec%9b%90%eb%a6%ac/3%20%ec%bc%80%ec%9d%b4%eb%b8%94%ec%9d%98%20%ec%95%9e%ec%9d%80%20LAN%20%ea%b8%b0%ea%b8%b0%ec%98%80%eb%8b%a4.html">3 케이블의 앞은 LAN 기기였다</a></li>
                
                <li><a href="https://biisairo.github.io/Study/Computer%20Science/%eb%84%a4%ed%8a%b8%ec%9b%8c%ed%81%ac/%ec%84%b1%ea%b3%b5%ea%b3%bc%20%ec%8b%a4%ed%8c%a8%eb%a5%bc%20%ea%b2%b0%ec%a0%95%ed%95%98%eb%8a%94%201%25%ec%9d%98%20%eb%84%a4%ed%8a%b8%ec%9b%8c%ed%81%ac%20%ec%9b%90%eb%a6%ac/4%20%ec%95%a1%ec%84%b8%ec%8a%a4%20%ed%9a%8c%ec%84%a0%ec%9d%84%20%ed%86%b5%ed%95%b4%20%ec%9d%b8%ed%84%b0%eb%84%b7%ec%9d%98%20%eb%82%b4%eb%b6%80%eb%a1%9c.html">4 액세스 회선을 통해 인터넷의 내부로</a></li>
                
                <li><a href="https://biisairo.github.io/Study/Computer%20Science/%eb%84%a4%ed%8a%b8%ec%9b%8c%ed%81%ac/%ec%84%b1%ea%b3%b5%ea%b3%bc%20%ec%8b%a4%ed%8c%a8%eb%a5%bc%20%ea%b2%b0%ec%a0%95%ed%95%98%eb%8a%94%201%25%ec%9d%98%20%eb%84%a4%ed%8a%b8%ec%9b%8c%ed%81%ac%20%ec%9b%90%eb%a6%ac/5%20%ec%84%9c%eb%b2%84%ec%b8%a1%ec%9d%98%20LAN%20%ec%97%90%eb%8a%94%20%eb%ac%b4%ec%97%87%ec%9d%b4%20%ec%9e%88%eb%8a%94%ea%b0%80.html">5 서버측의 LAN 에는 무엇이 있는가</a></li>
                
                <li><a href="https://biisairo.github.io/Study/Computer%20Science/%eb%84%a4%ed%8a%b8%ec%9b%8c%ed%81%ac/%ec%84%b1%ea%b3%b5%ea%b3%bc%20%ec%8b%a4%ed%8c%a8%eb%a5%bc%20%ea%b2%b0%ec%a0%95%ed%95%98%eb%8a%94%201%25%ec%9d%98%20%eb%84%a4%ed%8a%b8%ec%9b%8c%ed%81%ac%20%ec%9b%90%eb%a6%ac/6%20%ec%9b%b9%20%ec%84%9c%eb%b2%84%ec%97%90%20%eb%8f%84%ec%b0%a9%ed%95%98%ec%97%ac%20%ec%9d%91%eb%8b%b5%20%eb%8d%b0%ec%9d%b4%ed%84%b0%ea%b0%80%20%ec%9b%b9%20%eb%b8%8c%eb%9d%bc%ec%9a%b0%ec%a0%80.html">6 웹 서버에 도착하여 응답 데이터가 웹 브라우저</a></li>
                
            </ul>
        </div>
        

        
        
        <article>
            <h1>6. 웹 서버에 도착하여 응답 데이터가 웹 브라우저로 돌아간다</h1>
<h2>1. 서버의 개요</h2>
<h3>1. 클라이언트와 서버의 차이점</h3>
<h3>2. 서버 애플리케이션의 구조</h3>
<ul>
<li>서버는 동식에 복수의 클라이언트와 통신을 하기때문에 하나의 프로그램으로 모든 클라이언트들을 상대하기 어려움</li>
<li>클라이언트가 접속할 때 마다 새로 서버 프로그램을 작동하여 서버 애플리케이션과 1대 1로 대화하는 방법을 사용함</li>
<li>클라이언트의 접속을 기다리는 부분과 실제 클라이언트와 대화를 하는 부분을 나눔
<ul>
<li>접속을 기다리는 부분은 서버의 시작과 동시에 준비가 되어 클라이언트의 접속을 기다림</li>
<li>클라이언트가 접속하면 클라이언트와 대화를 하는 프로세스를 새로 만들게 되며 소켓의 연결을 해당 프로세스로 넘김</li>
<li>클라이언트는 새로 생긴 프로세스와 대화를 하게 됨</li>
</ul>
</li>
<li>서버에서는 멀티태스크, 멀티스레딩을 사용해 다수의 프로세스를 동시에 돌리며 다수의 클라이언트와 대화를 할 수 있게 됨</li>
</ul>
<h3>3. 서버측의 소켓과 포트 번호</h3>
<ul>
<li>클라이언트
<ul>
<li>접속을 시도하는 쪽</li>
<li>접속 순서
<ul>
<li>소켓 생성</li>
<li>접속</li>
<li>송수신</li>
<li>연결 끊기</li>
</ul>
</li>
</ul>
</li>
<li>서버
<ul>
<li>접속을 기다리는 쪽</li>
<li>접속 순서
<ul>
<li>소켓 생성</li>
<li>접속 대기</li>
<li>접속 접수</li>
<li>송수신</li>
<li>연결 끊기</li>
</ul>
</li>
</ul>
</li>
<li>소켓을 생성한 후 bind 함수를 사용해 소켓에 포트 번호를 기록함
<ul>
<li>클라이언트는 서버에 접속할 때 해당 포트 번호를 사용해 접속</li>
<li>http 는 80 번으로 정해져 있음</li>
</ul>
</li>
<li>이후 listen 함수를 사용해 클라이언트의 접속을 기다림</li>
<li>클라이언트가 접속을 시도하면 accept 함수를 사용해 클라이언트의 접속을 접수</li>
<li>accept 가 끝나면 접속이 완료된 상태 이므로 클라이언트와 대화하는 프로세스를 생성</li>
</ul>
<h2>2. 서버의 수신 동작</h2>
<h2>3. 웹 서버 소프트웨어가 리퀘스트 메시지의 의미를 해석하여 요구에 응한다</h2>
<h3>1. 조회의 URI 를 실제 파일명으로 변환한다</h3>
<ul>
<li>웹 서버에서 read 를 통해 받은 내용을 파악해 처리를 한 뒤 write 를 통해 반환해주게 됨</li>
<li>기본적으로 메소드 뒤의 파일명을 찾아 반환해 주게 됨</li>
<li>파일명이 그대로 드러나 있을 경우 웹 서버의 디스크를 그대로 공개하는 것과 같아 가상의 디렉토리를 사용</li>
</ul>
<h3>2. CGI 프로그램을 작동하는 경우</h3>
<ul>
<li>Common Gateway Interface</li>
<li>URI 의 내용이 문서나 데이터인 경우 해당 데이터를 그대로 반환해 줌</li>
<li>프로그램 파일의 이름인 경우 해당 프로그램을 실행시켜 나온 반환값은 반송하게 됨</li>
<li>웹 서버가 URI 의 파일명을 판단하여 cgi, php 등의 확장자가 들어오면 해당 프로그램을 실행시키게 됨</li>
</ul>
<h3>3. 웹 서버로 수행하는 액세스 제어</h3>
<ul>
<li>기본적으로 웹서버는 요청 메시지를 파악하여 데이터를 가공, 획득해 반환해줌</li>
<li>사전에 설정한 조건에 따라 해당 동작을 금지하거나 필터링할 수 있음</li>
<li>액세스 제어
<ul>
<li>조건에 따라 액세스 동작 여부를 설정하는 기능</li>
</ul>
</li>
<li>주로 웹 서버에서 사용하는 조건
<ul>
<li>클라이언트의 주소
<ul>
<li>접속 동작에서 클라이언트의 IP 를 확인</li>
</ul>
</li>
<li>클라이언트의 도메인 이름
<ul>
<li>접속 동작에서 클라이언트의 IP 를 사용</li>
<li>DNS 서버를 이용해 IP 에서 도메인 이름을 확인</li>
</ul>
</li>
<li>사용자명과 패스워드
<ul>
<li>웹 서버에서 클라이언트에게 사용자명과 패스워드를 요구해 액세스여부를 판단</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3>4. 응답 메시지를 되돌려 보낸다</h3>
<ul>
<li>만들어진 응답 메시지를 write 함수를 통해 클라이언트에 전송</li>
</ul>
<h2>4. 웹 브라우저가 응답 메시지를 받아 화면에 표시한다</h2>
<h3>1. 응답 데이터의 형식을 보고 본질을 판단한다</h3>
<ul>
<li>응답 메시지의 헤더에 있는 Content-type 필드를 사용해 응답한 메시지의 형태를 파악함
<ul>
<li>text
<ul>
<li>text/html</li>
<li>text/plain</li>
</ul>
</li>
<li>image
<ul>
<li>image/jpeg</li>
<li>image/gif</li>
</ul>
</li>
<li>audio…</li>
<li>video…</li>
<li>model…</li>
<li>application…</li>
<li>message…</li>
<li>multipart…</li>
<li>등등…</li>
</ul>
</li>
<li>이외의 charset, content-encoding 등의 응답의 형태를 나타내는 헤더 필드가 존재</li>
</ul>
<h3>2. 브라우저 화면에 웹 페이지를 표시하여 액세스를 완료한다</h3>
<ul>
<li>데이터의 종류에 따라 화면에 데이터를 표시</li>
</ul>

        </article>
        
        
    </main>

    

<footer>
    <p>Author: Dongyoon Kim - <a href="https://biisairo.github.io/">Home</a> - <a href="https://github.com/Biisairo">GitHub</a> - <a
            href="mailto:rlark1224@naver.com">Mail</a></p>
</footer>

</body>

</html>