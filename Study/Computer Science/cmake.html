<!DOCTYPE html>



<html>

<head>
    <meta charset="UTF-8">
    <title>cmake</title>
    <link rel="icon" href="https://biisairo.github.io/static/favicon.ico" type="image/x-icon">
</head>

<script>
    function toggleSection(id) {
        const section = document.getElementById(id);
        const header = section.previousElementSibling;

        if (section.style.display === 'none') {
            section.style.display = 'block';
            header.innerHTML = header.innerHTML.replace('▶', '▼');
        } else {
            section.style.display = 'none';
            header.innerHTML = header.innerHTML.replace('▼', '▶');
        }
    }
</script>

<body>
    <header>
    <nav>
        <ul>
            

            <li><a href="https://biisairo.github.io/">Home</a></li>
            
            <li><a href="https://biisairo.github.io/About/">About</a></li>
            
            <li><a href="https://biisairo.github.io/Study/">Study</a></li>
            
            <li><a href="https://biisairo.github.io/Contact/">Contact</a></li>
            
        </ul>
    </nav>

    <style>
    html,
    body {
        height: 100%;
        margin: 0;
    }

    body {
        display: flex;
        flex-direction: column;
        max-width: 720px;
        margin: 0 auto;
        padding: 2rem 1rem;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen,
            Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
        line-height: 1.6;
        background: #222831;
        color: #EEEEEE;
    }

    header,
    footer {
        text-align: center;
        margin-bottom: 2rem;
    }

    nav ul {
        list-style: none;
        padding: 0;
        display: flex;
        justify-content: space-between;
        align-items: flex-end;

        flex-wrap: wrap;
        gap: 1rem;
    }

    nav li:first-child {
        margin-right: auto;
    }

    nav li:not(:first-child) {
        margin-left: 0;
    }

    nav li:first-child a {
        color: #EEEEEE;
        font-size: 1.5em;
        text-decoration: none;
    }

    nav li:first-child a:hover {
        color: #aadadf;
    }

    nav a {
        color: #00ADB5;
        text-decoration: underline;
        transition: color 0.3s ease;
    }

    nav a:hover {
        color: #66C1C9;
        text-decoration: none;
    }

    main a,
    article a,
    footer a {
        color: #33d3c8;
        text-decoration: underline;
        transition: color 0.3s ease;
    }

    main a:hover,
    article a:hover,
    footer a:hover {
        color: #66C1C9;
        text-decoration: none;
    }

    main {
        flex: 1;
        margin-bottom: 2rem;
    }

    h1,
    h2,
    h3 {
        line-height: 1.3;
        margin-top: 2rem;
        margin-bottom: 1rem;
        color: #00ADB5;
    }

    h2[onclick] {
        user-select: none;
        color: #2699b6;
    }


    ul {
        padding-left: 1.5rem;
    }

    article {
        margin-top: 2rem;
        border: 1px solid #33d3c8;
        padding: 1rem;
        border-radius: 5px;
    }

    footer p {
        font-size: 0.9rem;
        color: #AAAAAA;
    }
</style>

</header>

    <main>
        
        
        <h2 onclick="toggleSection('groups')" style="cursor: pointer;">▶ 하위 그룹</h2>
        <div id="groups" style="display: none;">
            <ul>
                
                <li><a href="https://biisairo.github.io/Study/Computer%20Science/Object%20Oriented%20Programming/">Object Oriented Programming</a></li>
                
                <li><a href="https://biisairo.github.io/Study/Computer%20Science/Server/">Server</a></li>
                
                <li><a href="https://biisairo.github.io/Study/Computer%20Science/UNIX/">UNIX</a></li>
                
                <li><a href="https://biisairo.github.io/Study/Computer%20Science/%ec%9a%b4%ec%98%81%ec%b2%b4%ec%a0%9c/">운영체제</a></li>
                
                <li><a href="https://biisairo.github.io/Study/Computer%20Science/VIM/">VIM</a></li>
                
                <li><a href="https://biisairo.github.io/Study/Computer%20Science/%eb%84%a4%ed%8a%b8%ec%9b%8c%ed%81%ac/">네트워크</a></li>
                
            </ul>
        </div>
        
        

        
        <h2 onclick="toggleSection('pages')" style="cursor: pointer;">▶ 하위 페이지</h2>
        <div id="pages" style="display: none;">
            <ul>
                
                <li><a href="https://biisairo.github.io/Study/Computer%20Science/GIT.html">GIT</a></li>
                
                <li><a href="https://biisairo.github.io/Study/Computer%20Science/ASM.html">ASM</a></li>
                
                <li><a href="https://biisairo.github.io/Study/Computer%20Science/cmake.html">cmake</a></li>
                
                <li><a href="https://biisairo.github.io/Study/Computer%20Science/process%20&amp;%20thread.html">process &amp; thread</a></li>
                
            </ul>
        </div>
        

        
        
        <article>
            <h1>cmake</h1>
<p><a href="https://runebook.dev/ko/docs/cmake/-index-">https://runebook.dev/ko/docs/cmake/-index-</a></p>
<p>makefile 같은 build 방식을 사용하면 platform 마다 다른 makefile 을 만들어야 함</p>
<p>cmake 는 이를 해결하기 위한 도구</p>
<h2>cmake phase</h2>
<ul>
<li>
<p>Configure time (when cmake itself is running)</p>
<ul>
<li>
<p>준비단계</p>
</li>
<li>
<p>build 를 위한 project 생성</p>
<pre><code class="language-bash">Generate a Project Buildsystem
 cmake [&lt;options&gt;] -B &lt;path-to-build&gt; [-S &lt;path-to-source&gt;]
 cmake [&lt;options&gt;] &lt;path-to-source | path-to-existing-build&gt;
</code></pre>
</li>
</ul>
</li>
<li>
<p>Build time (when the generator such as make or ninja is running to compile/link the projects)</p>
<ul>
<li>실행파일 생성</li>
<li>옵션으로 <strong>-j</strong> [<jobs>] 를 사용해 멀티코어 프로세싱 가능</li>
</ul>
<pre><code class="language-bash">Build a Project
 cmake --build &lt;dir&gt; [&lt;options&gt;] [-- &lt;build-tool-options&gt;]
</code></pre>
</li>
<li>
<p>Install time (when running the INSTALL target generated by CMake)</p>
</li>
</ul>
<h2>syntax</h2>
<h3>project</h3>
<pre><code class="language-bash">cmake_minimum_required(VERSION 3.27)
</code></pre>
<ul>
<li>cmake version 명시</li>
</ul>
<pre><code class="language-bash">project(project_name)
</code></pre>
<ul>
<li>프로젝트 설정</li>
<li>특정 변수들이 자동으로 설정됨</li>
<li>옵션을 넣어 사용하는 언어, 버전 등 명시 가능</li>
</ul>
<h3>variable</h3>
<pre><code class="language-bash">set(variable_name value1 [value2...])
</code></pre>
<ul>
<li>variable_name 이름의 변수 선언</li>
<li>여러개의 값을 넣을 수 있음</li>
</ul>
<h3>target</h3>
<pre><code class="language-bash">add_excutable(target_name code1 [code2...])
</code></pre>
<ul>
<li>target_name 이름의 실행파일 생성</li>
</ul>
<pre><code class="language-bash">add_library(target_name code1 [code2...])
</code></pre>
<ul>
<li>target_name 이름의 library 파일 생성</li>
</ul>
<pre><code class="language-bash">target_include_directories(target_name [PUBLIC|PRIVATE|INTERFACE] path)
</code></pre>
<ul>
<li>target_name 을 생성할 때 사용할 include path 설정</li>
</ul>
<pre><code class="language-bash">target_link_directories(target_name [PUBLIC|PRIVATE|INTERFACE] path)
</code></pre>
<ul>
<li>target_name 을 생성할 때 library 등이 있는 경로를 설정</li>
</ul>
<pre><code class="language-bash">target_link_libraries(target_name [PUBLIC|PRIVATE|INTERFACE] library1 [library2])
</code></pre>
<ul>
<li>link 할 라이브러리들을 설정</li>
</ul>
<pre><code class="language-bash">set_target_properties(target_name PROPERTIES prop1 value1)
</code></pre>
<ul>
<li>target_name 을 생성할때의 옵션들을 지정</li>
<li>생성 경로 등의 옵션을 지정</li>
</ul>
<pre><code class="language-bash">add_dependencies(target_name dep_name1 [dep_name2])
</code></pre>
<ul>
<li>target_name 을 만들기 위해 필요한 의존성 주입</li>
</ul>
<pre><code class="language-bash">target_compile_definitions(target_name
	[PUBLIC|PRIVATE|INTERFACE] DEFINE_NAME=VALUE)
</code></pre>
<ul>
<li>target_name 을 생성할 때 넣어줄 define 값을 설정</li>
</ul>
<h3>file</h3>
<pre><code class="language-bash">file()
</code></pre>
<ul>
<li>READ, WRITE, STRING, GLOB, COPY 등등 file 처리와 관련된 작업</li>
</ul>
<h3>include</h3>
<pre><code class="language-bash">include(file_name)
</code></pre>
<ul>
<li>외부 파일 사용</li>
<li>CMakeLists.txt 파일의 분할</li>
</ul>
<h3>ExternalProject</h3>
<pre><code class="language-bash">include(ExternalProject)
</code></pre>
<ul>
<li>build time 에서 진행</li>
<li>ExternalProject 모듈 사용</li>
<li>외부 프로젝트, 라이브러리를 사용할 때 외부 주소를 이용해 다운로드, 클론 등의 작업을 담당</li>
</ul>
<pre><code class="language-bash">ExternalProject_Add(name [options...])
</code></pre>
<ul>
<li>외부 프로젝트의 다운로드</li>
<li>옵션
<ul>
<li>GIT_REPOSITORY</li>
<li>GIT_TAG</li>
<li>GIT_SHALLOW</li>
<li>UPDATE_COMMAND</li>
<li>PATCH_COMMAND</li>
<li>TEST_COMMAND</li>
<li>BUILD_COMMAND</li>
<li>CMAKE_ARGS</li>
<li>…</li>
</ul>
</li>
</ul>
<h3>FetchContent</h3>
<pre><code class="language-bash">include(FetchContent)
</code></pre>
<ul>
<li>configure time 에서 진행</li>
<li>FetchContent 모듈 사용</li>
<li>ExternalProject 처럼 외부 프로젝트를 불러올 때 사용하며 configure 시간에 진행되어 build 시 필요한 repo 를 미리 받아올 필요가 있을 때 등등의 경우 사용</li>
</ul>
<pre><code class="language-bash">FetchContent_Declare(name [options...])
</code></pre>
<ul>
<li>외부 프로젝트의 다운로드</li>
<li>옵션
<ul>
<li>GIT_REPOSITORY</li>
<li>GIT_TAG</li>
</ul>
</li>
</ul>
<pre><code class="language-bash">FetchContent_MakeAvailable(name1 [name2...])
</code></pre>
<ul>
<li>FetchContent_Declare 로 선언된 fetch 를 허용한다는 명시</li>
<li>cmake 과정에서 한번만 진행되며 이전에 name 들이 FetchContent_Declare 로 선언되어 있어야 함</li>
<li>FetchContent_MakeAvailable 로 명시되지 않은 name 은 다운로드 과정을 진행하지 않음</li>
</ul>

        </article>
        
        
    </main>

    

<footer>
    <p>Author: Dongyoon Kim - <a href="https://biisairo.github.io/">Home</a> - <a href="https://github.com/Biisairo">GitHub</a> - <a
            href="mailto:rlark1224@naver.com">Mail</a></p>
</footer>

</body>

</html>