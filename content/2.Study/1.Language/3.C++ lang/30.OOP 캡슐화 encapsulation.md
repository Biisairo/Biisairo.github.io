# OOP 캡슐화 encapsulation

**프렌드 (friend)**

- 같은 클래스가 아닌 외부에서 접근이 필요할 때를 위해 만드는 함수
- 클래스의 선언에서 같이 선언하지만 클래스의 멤버 함수는 아니나 멤버 함수와 같은 접근 권한을 가진다
- public, private, protect 영역 어디에나 위치할 수 있으며 위치에 따른 차이는 없다
- friend 의 선언은 원형에서만 사용하며 정의에서는 사용하지 않는다
- 선언
    - friend 클래스이름,반환형 함수이름(매개변수);
- 사용 이유
    - 이항연산자를 사용할 시 왼쪽의 객체가 멤버함수를 호출하는 형태로 매개변수의 순서나 타입에 민감해진다
    - 이때 프렌드 함수를 이용해 전역함수로 오버로딩을 해 주어 반대의 경우에서도 연산자가 작동할 수 있도록 오버로딩을 해 준다

**프렌드 클래스**

- 프렌드 함수 또한 전역함수, 클래스, 멤버함수로 사용된다
- 두 클래스의 관계가 밀접해 서로의 private 에 접근 할 일이 많으면 클래스를 프렌드로 선언한다
- 프렌드 클래스는 해당 클래스의 모든 멤버함수가 다른 특정 클래스의 friend 인 클래스이다
- 선언
    - friend class 클래스이름
    - 참고 되어질 클래스의 선언부에 프렌드 클래스가 될 클래스를 위의 방법으로 선언한다
    - 선언 된 클래스는 참고되어질 클래스의 멤버에 접근 할 수 있다
        - ex) class rect { int a; int b; friend class display; }
        - class display { void showsize(const rect& target); }
        - display 클래스는 rect 클래스의 멤버에 접근가능해진다

**프렌드 멤버함수**

- 특정 클래스 전체가 아닌 일부 멤버함수만 프렌드로 설정 해 준다
- 특정 클래스의 특정 멤버함수가 아닌 다른 외부함수는 참고되어지는 클래스의 private 를 보지 못한다
- 정보은닉과 캡슐화에 용이
- 선언
    - friend 반환형 클래스이름::멤버함수이름(매개변수);
    - 참고하는 클래스의 멤버함수를 그대로 가져와 선언한다

**전방 선언**

- 두 클래스가 서로를 참조하는상황, 즉 순환참조 상황
- 앞선 클래스가 뒤의 클래스의 존재를 알 수 없으므로 앞서 미리 선언을 해 준다
- 함수의 원형을 맨 앞에 선언하는 것과 같은 이유
- 선언
    - class 클래스이름;
- 순서
    - 참고 되어지는 클래스에 참고하는 클래스의 멤버함수를 넣어야 하기 때문에 참고하는 클래스가 참고되어지는 클래스보다 먼저 선언되어야 한다
    - 참고되어지는 클래스는 전방선언으로 존재를 알려만 준다
        - 참고되어지는 클래스 전방선언
        - 참고하는 클래스 선언
        - 참고 되어지는 클래스 선언

**정적 멤버, 상수 멤버**

- 정적 멤버
    - static 을 앞에 붙여 선언한다
    - 정적 멤버 변수
        - 함수의 정적 변수와 마찬가지로 객체별로 할당되는 것이 아닌 같은 클래스의 모든 객체가 공유하는 멤버
        - 접근 제한 규칙은 동일하게 적용된다
        - 클래스의 선언 밖에서 정의 후 초기화 해 주어야 한다
    - 정적 멤버 함수
        - 정적으로 만들어진 함수는 객체의 생성없이 클래스 이름으로 호출이 가능하다
            - 일반 멤버 함수의 호출
                - 객체이름.멤버함수이름();
            - 정적 멤버 함수의 호출
                - 클래스이름.멤버함수이름();
        - 객체를 생성하지 않으므로 this 포인터를 가지지 않는다
        - 객체와 결합해 사용하지 않으므로 정적 멤버 변수만 사용이 가능하다
- 상수 멤버
    - 상수 멤버 변수
        - const 를 앞에 붙여 선언한다
        - 한번 초기화 하면 값이 변하지 않는 멤버 변수
    - 상수 멤버 함수
        - 상수 멤버 변수와 다르게 const 를 뒤에 붙여 사용한다
            - 함수의원형 const;
        - 호출한 객체의 데이터를 변경할 수 없는 함수
        - 참조만을 위한 함수에 사용한다