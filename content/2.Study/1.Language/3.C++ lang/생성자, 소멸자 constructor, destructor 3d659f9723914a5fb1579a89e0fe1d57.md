# 생성자, 소멸자 constructor, destructor

**생성자 (constructor)**

1. 객체의 생성과 동시에 호출되는 함수
2. 생성자의 이름은 클래스의 이름과 동일함
3. ex) Book 클래스의 생성자는 Book()
4. 특징
    - 초기화를 위한 데이터를 받을 수 있다
    - 어떠한 반환값도 없지만 void 를 쓰는것이 아닌 반환값을 적지 않는다
    - public 영역에 선언되어야 한다
5. 생성자의 정의
    - 다른 맴버함수와 같게 정으하나 반환값을 명시하지 않는다
6. 생성자의 호출
    - 객체 생성 시 객체 이름 뒤에 ()를 넣고 안에 생성자의 매개변수를 넣는다
        - ex) Book my_book(something);
    - 혹은 명시적으로 호출한다
        - ex) Book my_book = Book(something);

**디폴트 생성자**

- 객체 생성시 기본으로 초기값을 명시하지 않을 시 컴파일러가 자동으로 제공하는 생성자
    - ex) Book::Book() {};
- 디폴트 생성자를 정의 해 주어야 한다
    - 함수의 오버로딩
    - 디폴트 인수 사용
- 디폴트 인수 사용
    - 객체 맴버함수의 원형을 선언할 때 미리 디폴트 값을 넣어준다
    - ex) public: Book(string title = “some”, int page = 100);
- 함수의 오버로딩 사용
- 디폴트 생성자를 가지고있는 객체의 선언
    - Book my_book; // 암시적 호출
    - Book my_book = Book(); // 명시적 호출
    - Book *my_book = new Book; // 암시적 호출
        - Book my_book(); 같은 경우는 함수의 호출로 간주해 오류가 난다

**복사 생성자**

- 얕은 복사
    - 변수를 대입하듯 = 기호를 사용해 새로운 변수에 기본변수를 복사하는 것
        - ex) Book your_book = my_book;
    - 값을 복사하는 것이 아닌 값을 가리키는 포인터만 복사하는 것
- 깊은 복사
    - 복사 생성자를 이용한 복사
    - 다른 객체의 값을 인수로 전달받아 새로운 객체를 초기화 하는 것
- 복사 생성자의 원형
    - Book(const Book&);
- 사용법
    - Book new_book(my_book);
    - Book new_book = Book(my_book);
- 사용 용도
    - 객체가 함수의 인수로 전달될 때
    - 함수의 반환값이 객체일 때
    - 같은 값을 가진 새로운 객체를 만들 때

**소멸자**

- 객체의 수명이 다했을 때 생성자의 반대 역할을 해 주는 멤버 함수
- 소멸자의 이름은 클래스 이름과 같으며 ~ 를 붙여 생성자와 구별
    - ex) ~Book();
- 특징
    - 인수를 가지지 않는다
    - 반환값이 없지만 void 를 선언하지 않는다 (생성자와 동일)
    - 생성자는 여러개 일 수 있지만 소멸자는 단 하나
- 만약 생성자에서 동적 메모리 할당을 한다면 소멸자에서 할당을 메모리를 반환 해 주어야 한다
- 소멸자의 호출
    - 소멸자는 컴파일러가 알아서 호출 해 준다
    - 데이터 영역 : 해당 프로그램이 종료될 때
    - 스텍 영역 : 해당 객체가 정의된 블록을 벗어날 때
    - 힙 영역 : delete 를 사용하여 해당 객체의 메모리를 반환할 때
    - 임시 객체 : 객체의 수명이 다하거나 사용을 마쳤을 때